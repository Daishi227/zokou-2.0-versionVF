const a9_0x1503f3=a9_0x2951;function a9_0x2951(_0x585557,_0x412d84){const _0x21addf=a9_0x1643();return a9_0x2951=function(_0x25feb7,_0x244969){_0x25feb7=_0x25feb7-0x111;let _0x1643e=_0x21addf[_0x25feb7];return _0x1643e;},a9_0x2951(_0x585557,_0x412d84);}(function(_0x2d4450,_0x7ae26f){const _0x5f5d8a=a9_0x2951,_0x2dabdb=_0x2d4450();while(!![]){try{const _0x1b123c=parseInt(_0x5f5d8a(0x116))/0x1*(parseInt(_0x5f5d8a(0x125))/0x2)+parseInt(_0x5f5d8a(0x117))/0x3*(parseInt(_0x5f5d8a(0x12b))/0x4)+parseInt(_0x5f5d8a(0x129))/0x5*(-parseInt(_0x5f5d8a(0x123))/0x6)+-parseInt(_0x5f5d8a(0x11f))/0x7+-parseInt(_0x5f5d8a(0x126))/0x8*(-parseInt(_0x5f5d8a(0x128))/0x9)+-parseInt(_0x5f5d8a(0x11c))/0xa+-parseInt(_0x5f5d8a(0x12d))/0xb*(-parseInt(_0x5f5d8a(0x11b))/0xc);if(_0x1b123c===_0x7ae26f)break;else _0x2dabdb['push'](_0x2dabdb['shift']());}catch(_0x5644ec){_0x2dabdb['push'](_0x2dabdb['shift']());}}}(a9_0x1643,0x3e1b5),require(a9_0x1503f3(0x112))[a9_0x1503f3(0x11a)]());const {Pool}=require('pg'),s=require(a9_0x1503f3(0x120)),dbUrl=s['DATABASE_URL']?s[a9_0x1503f3(0x118)]:a9_0x1503f3(0x130),proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function createUsersRankTable(){const _0x287e0c=a9_0x1503f3,_0x33d7df=(function(){let _0x441049=!![];return function(_0x250c9c,_0x2b05e8){const _0x337c9e=_0x441049?function(){const _0x376636=a9_0x2951;if(_0x2b05e8){const _0x30916a=_0x2b05e8[_0x376636(0x12f)](_0x250c9c,arguments);return _0x2b05e8=null,_0x30916a;}}:function(){};return _0x441049=![],_0x337c9e;};}()),_0x228cc5=_0x33d7df(this,function(){const _0x2c1086=a9_0x2951;return _0x228cc5[_0x2c1086(0x11d)]()['search'](_0x2c1086(0x121))['toString']()[_0x2c1086(0x122)](_0x228cc5)[_0x2c1086(0x133)]('(((.+)+)+)+$');});_0x228cc5();const _0x54f452=await pool[_0x287e0c(0x113)]();try{await _0x54f452[_0x287e0c(0x114)](_0x287e0c(0x115));}catch(_0x19b70){console[_0x287e0c(0x132)]('Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20users_rank:',_0x19b70);}finally{_0x54f452[_0x287e0c(0x12a)]();}}async function ajouterOuMettreAJourUserData(_0x36f303){const _0x14d7bc=a9_0x1503f3,_0x5a285d=await pool['connect']();try{const _0x57b31b=await _0x5a285d['query'](_0x14d7bc(0x131),[_0x36f303]),_0x198d40=_0x57b31b['rows'][_0x14d7bc(0x127)]>0x0;_0x198d40?await _0x5a285d['query'](_0x14d7bc(0x124),[_0x36f303]):await _0x5a285d[_0x14d7bc(0x114)]('INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x20VALUES\x20($1,\x20$2,\x20$3)',[_0x36f303,0xa,0x1]);}catch(_0x590a3f){console[_0x14d7bc(0x132)](_0x14d7bc(0x12e),_0x590a3f);}finally{_0x5a285d[_0x14d7bc(0x12a)]();}}function a9_0x1643(){const _0x169384=['toString','Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20données\x20de\x20l\x27utilisateur:','335398EuOoBG','../set','(((.+)+)+)+$','constructor','97710OgKTdj','UPDATE\x20users_rank\x20SET\x20xp\x20=\x20xp\x20+\x2010,\x20messages\x20=\x20messages\x20+\x201\x20WHERE\x20jid\x20=\x20$1','4108QLMCzA','256koBFmb','length','102528XtGfvP','65qbkBPe','release','16988WeYabf','SELECT\x20jid,\x20xp\x20,\x20messages\x20FROM\x20users_rank\x20ORDER\x20BY\x20xp\x20DESC\x20LIMIT\x2010','77MWxntJ','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20de\x20l\x27utilisateur:','apply','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','SELECT\x20*\x20FROM\x20users_rank\x20WHERE\x20jid\x20=\x20$1','error','search','exports','Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20bottom\x2010\x20des\x20utilisateurs:','dotenv','connect','query','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users_rank\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20SERIAL\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20VARCHAR(255)\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20INTEGER\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20','1ZnslNg','231vYXYXE','DATABASE_URL','rows','config','324420ofOSZf','3688540HQtFeQ'];a9_0x1643=function(){return _0x169384;};return a9_0x1643();};async function getMessagesAndXPByJID(_0x5a59c0){const _0x2b91ea=a9_0x1503f3,_0x592b0e=await pool[_0x2b91ea(0x113)]();try{const _0x37355a='SELECT\x20messages,\x20xp\x20FROM\x20users_rank\x20WHERE\x20jid\x20=\x20$1',_0x1dea7e=await _0x592b0e[_0x2b91ea(0x114)](_0x37355a,[_0x5a59c0]);if(_0x1dea7e[_0x2b91ea(0x119)]['length']>0x0){const {messages:_0x1b1985,xp:_0xbcf133}=_0x1dea7e[_0x2b91ea(0x119)][0x0];return{'messages':_0x1b1985,'xp':_0xbcf133};}else return{'messages':0x0,'xp':0x0};}catch(_0x382c6a){return console[_0x2b91ea(0x132)](_0x2b91ea(0x11e),_0x382c6a),{'messages':0x0,'xp':0x0};}finally{_0x592b0e[_0x2b91ea(0x12a)]();}}async function getBottom10Users(){const _0xe68d13=a9_0x1503f3,_0x40d344=await pool['connect']();try{const _0x22c9c7=_0xe68d13(0x12c),_0x4427eb=await _0x40d344[_0xe68d13(0x114)](_0x22c9c7);return _0x4427eb[_0xe68d13(0x119)];}catch(_0xfcb819){return console['error'](_0xe68d13(0x111),_0xfcb819),[];}finally{_0x40d344[_0xe68d13(0x12a)]();}}createUsersRankTable(),module[a9_0x1503f3(0x134)]={'ajouterOuMettreAJourUserData':ajouterOuMettreAJourUserData,'getMessagesAndXPByJID':getMessagesAndXPByJID,'getBottom10Users':getBottom10Users};